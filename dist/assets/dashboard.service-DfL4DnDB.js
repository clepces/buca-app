import{L as o}from"./index-C5SNnDkz.js";function d(t){if(o.info(`Dashboard Stats: Calculando con ${t?t.length:0} productos.`),t&&t.length>0&&o.trace("Primer producto para cÃ¡lculo:",JSON.stringify(t[0])),!t||t.length===0)return{totalProducts:0,totalInvestment:0,totalStockValue:0,potentialProfit:0};const n=t.reduce((l,e,c)=>{const r=e.stock?.current||0,P=e.pricing?.packageCost||0,g=e.pricing?.unitsPerPackage||1,k=e.pricing?.priceLists?.[0]?.unitSellPrice||e.pricing?.unitSellPrice||0,S=P/(g>0?g:1),u=S*r,$=k*r;return c===0&&(o.trace(`Prod ${c}: Stock=${r}, PkgCost=${P}, Units/Pkg=${g}, UnitSellPrice=${k}`),o.trace(`Prod ${c}: Cost/Unit=${S.toFixed(4)}, Adding Invest=${u.toFixed(4)}, Adding StockVal=${$.toFixed(4)}`)),l.investment+=u,l.stockValue+=$,l},{investment:0,stockValue:0}),i=isNaN(n.investment)?0:n.investment,a=isNaN(n.stockValue)?0:n.stockValue,s=a-i;return o.info(`Dashboard Stats: Inv=${i.toFixed(2)}, StockVal=${a.toFixed(2)}, Profit=${s.toFixed(2)}`),{totalProducts:t.length,totalInvestment:i,totalStockValue:a,potentialProfit:isNaN(s)?0:s}}export{d as g};
